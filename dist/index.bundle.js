"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[826],{852:(e,t,r)=>{var n=document.getElementById("description"),o=document.querySelector(".show-msg"),i=document.querySelector(".btn-submit"),a=document.querySelector(".todo-items-gropu");document.querySelectorAll(".todo-des");const s=r.p+"images/three-dot-24.png",c=r.p+"images/trash-24.png";function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function f(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}var h=f((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"sortAndSave",(function(){var e=u(t.todos);e.sort((function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}));var r=0;e.forEach((function(e){r+=1,e.index=r})),t.todos=u(e),localStorage.setItem("todos",JSON.stringify(t.todos))})),p(this,"render",(function(){a.innerHTML="",t.sortAndSave(),t.todos.length>0?t.todos.forEach((function(e){var r=document.createElement("li");r.id=e.index,r.className="todo-item";var n=document.createElement("input");n.setAttribute("type","checkbox"),n.id="todo-compleate";var o=document.createElement("p");o.className="todo-des",o.innerText=e.description,o.addEventListener("click",(function(e){t.onClickTodoDes(e)}));var i=document.createElement("button");i.className="btn-three-dot",i.innerHTML='<img src="'.concat(s,'" alt="...">'),r.append(n,o,i),a.appendChild(r)})):a.innerHTML='<p class="no-item">There is no todo to show! Please add a new one.</p>'})),p(this,"onSubmit",(function(){var e=n.value,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!1,a="",s=(e=e.trim()).length;if(t&&e.length<=0)return{isError:i=!0,msg:a="This field is Required!"};if(r>0&&s<r)return{isError:i=!0,msg:a="The min character length of this field is ".concat(r)};if(n>0&&s>n)return{isError:i=!0,msg:a="The max character length of this field is ".concat(n)};if(!o){var c=e.replace(/\s/g,"");if(!/^[A-Za-z][A-Za-z0-9-_.]*$/.test(c))return{isError:i=!0,msg:a="This field is only allow A-z0-9_.- characters and also first character should be A-z"}}return{isError:i,msg:a}}(e,!0,3,255,!1);if(!0===r.isError&&r.msg.length>=0)o.classList.add("form-error"),o.textContent=r.msg,n.classList.add("invalid");else{o.classList.remove("form-error"),o.textContent="",n.classList.remove("invalid"),n.value="";var i={description:e,completed:!1,index:t.todos.length+1||1};t.todos=[].concat(u(t.todos),[i]),t.render()}})),p(this,"delete",(function(e){t.todos=t.todos.filter((function(t){return t.index.toString()!==e})),t.render()})),p(this,"onClickTodoDes",(function(e){var r=e.target.parentElement;r.innerHTML="";var n=document.createElement("input");n.setAttribute("type","checkbox"),n.id="todo-compleate";var o=document.createElement("textarea");o.setAttribute("row","1"),o.className="todo-textarea",o.innerText=e.target.innerText;var i=document.createElement("button");i.className="btn-delete",i.innerHTML='<img src="'.concat(c,'" alt="X">'),i.addEventListener("click",(function(){var e=r.id;t.delete(e)})),r.append(n,o,i)})),localStorage.getItem("todos")?this.todos=JSON.parse(localStorage.getItem("todos")):this.todos=[]}));const b=r.p+"images/enter-24.png";var g=new h;n.addEventListener("keypress",(function(e){"Enter"===e.key?(e.preventDefault(),g.onSubmit()):(o.innerHTML="",o.classList.remove("form-error"),n.classList.remove("invalid"))})),i.addEventListener("click",(function(e){e.preventDefault(),g.onSubmit(),n.value=""})),window.onload=function(){g.render(),document.querySelector(".btn-submit").innerHTML="<img src='".concat(b,"' alt='submit'/>")}}},e=>{e(e.s=852)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsRUFFakIsSSxrQ0VKRixJQUFNQSxFQUFRLElBQUlGLEVBR2xCUixFQUFVaUMsaUJBQWlCLFlBQVksU0FBQ0MsR0FDeEIsVUFBVkEsRUFBRXVDLEtBQ0p2QyxFQUFFd0MsaUJBQ0ZoRSxFQUFNaUUsYUFFTnhFLEVBQVFrQixVQUFZLEdBQ3BCbEIsRUFBUW9ELFVBQVVHLE9BQU8sY0FDekIxRCxFQUFVdUQsVUFBVUcsT0FBTyxXQUUvQixJQUdBckQsRUFBVTRCLGlCQUFpQixTQUFTLFNBQUNDLEdBQ25DQSxFQUFFd0MsaUJBQ0ZoRSxFQUFNaUUsV0FDTjNFLEVBQVV3QyxNQUFRLEVBQ3BCLElBR0FvQyxPQUFPQyxPQUFTLFdBQ2RuRSxFQUFNa0QsU0FDTjNELFNBQVNHLGNBQWMsZUFBZWlCLFVBQVksYUFBSCxPQUFnQnlELEVBQVMsbUJBQzFFLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9kb21TZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90b2Rvcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy91dGlscy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGZvcm1JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpO1xuZXhwb3J0IGNvbnN0IHNob3dNc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hvdy1tc2cnKTtcbmV4cG9ydCBjb25zdCBidG5TdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXN1Ym1pdCcpO1xuZXhwb3J0IGNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1pdGVtcy1ncm9wdScpO1xuZXhwb3J0IGNvbnN0IHRvZG9JdGVtc0RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2RvLWRlcycpOyIsImltcG9ydCB2YWxpZGF0ZUZvcm0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyB0b2RvQ29udGFpbmVyLCBmb3JtSW5wdXQsIHNob3dNc2cgfSBmcm9tICcuL2RvbVNlbGVjdG9yLmpzJztcblxuLy8gSW1wb3J0IG5lY2Vzc2FyeSBhc3NldHMgZm9ybSBzb3VyY2VcbmltcG9ydCB0aHJlZURvdEljb24gZnJvbSAnLi4vYXNzZXRzL3RocmVlLWRvdC0yNC5wbmcnO1xuaW1wb3J0IGRlbGV0ZUljb24gZnJvbSAnLi4vYXNzZXRzL3RyYXNoLTI0LnBuZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvZG9zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvcycpKSB7XG4gICAgICB0aGlzLnRvZG9zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb3MnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudG9kb3MgPSBbXTtcbiAgICB9XG4gIH1cblxuICBzb3J0QW5kU2F2ZSA9ICgpID0+IHtcbiAgICBjb25zdCB0b2RvQXJyID0gWy4uLnRoaXMudG9kb3NdO1xuICAgIC8vIHNvcnRpbmcgdGhlIGxpc3RcbiAgICB0b2RvQXJyLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLmluZGV4ID4gYi5pbmRleCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gaWYgKGEuaW5kZXggPCBiLmluZGV4KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH0pO1xuXG4gICAgLy8gcmVhcnJhbmdlIHRoZSBpbmRleFxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgdG9kb0Fyci5mb3JFYWNoKCh0b2RvKSA9PiB7XG4gICAgICBpbmRleCArPSAxO1xuICAgICAgdG9kby5pbmRleCA9IGluZGV4O1xuICAgIH0pO1xuXG4gICAgdGhpcy50b2RvcyA9IFsuLi50b2RvQXJyXTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnRvZG9zKSk7XG4gIH1cblxuICAvLyBSZW5kZXIgdG9kbyBsaXN0XG4gIHJlbmRlciA9ICgpID0+IHtcbiAgICB0b2RvQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuc29ydEFuZFNhdmUoKTtcbiAgICBpZiAodGhpcy50b2Rvcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnRvZG9zLmZvckVhY2goKHRvZG8pID0+IHtcbiAgICAgIC8vIGNyZWF0ZSB0b2RvIGl0ZW1cbiAgICAgICAgY29uc3QgdG9kb0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICB0b2RvSXRlbS5pZCA9IHRvZG8uaW5kZXg7XG4gICAgICAgIHRvZG9JdGVtLmNsYXNzTmFtZSA9ICd0b2RvLWl0ZW0nO1xuXG4gICAgICAgIC8vIHRvZG8gY2hlY2tib3hcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgICAgICAgY2hlY2tib3guaWQgPSAndG9kby1jb21wbGVhdGUnO1xuXG4gICAgICAgIC8vIHRvZG8gZGVzY3JpcHRpb25cbiAgICAgICAgY29uc3QgdG9kb0RlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgdG9kb0Rlcy5jbGFzc05hbWUgPSAndG9kby1kZXMnO1xuICAgICAgICB0b2RvRGVzLmlubmVyVGV4dCA9IHRvZG8uZGVzY3JpcHRpb247XG5cbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RuZXIgaW4gdG9kbyBEZXNjcmlwdGlvblxuICAgICAgICB0b2RvRGVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQ2xpY2tUb2RvRGVzKGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0b2RvIFRocmVlIGRvdCBidXR0b25cbiAgICAgICAgY29uc3QgdGhyZWVEb3RCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdGhyZWVEb3RCdXR0b24uY2xhc3NOYW1lID0gJ2J0bi10aHJlZS1kb3QnO1xuICAgICAgICB0aHJlZURvdEJ1dHRvbi5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke3RocmVlRG90SWNvbn1cIiBhbHQ9XCIuLi5cIj5gO1xuXG4gICAgICAgIC8vIEFwcGVuZCBhbGwgdGhlIHRvZG8gZWxlbWVudHMgaW5zaWRlIHRoZSB0b2RvSXRlbXNcbiAgICAgICAgdG9kb0l0ZW0uYXBwZW5kKGNoZWNrYm94LCB0b2RvRGVzLCB0aHJlZURvdEJ1dHRvbik7XG5cbiAgICAgICAgLy8gYXBwZW50IHRoZSB0b2RvIGl0ZW0gaW5zaWRlIHRvZG9Db250YWluZXJcbiAgICAgICAgdG9kb0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2RvSXRlbSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9kb0NvbnRhaW5lci5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJuby1pdGVtXCI+VGhlcmUgaXMgbm8gdG9kbyB0byBzaG93ISBQbGVhc2UgYWRkIGEgbmV3IG9uZS48L3A+JztcbiAgICB9XG4gIH1cblxuICAvLyBvblN1Ym1pdCBtZXRob2RcbiAgb25TdWJtaXQgPSAoKSA9PiB7XG4gICAgLy8gVmFsaWRhdGUgdGhlIGZvcm1cbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGZvcm1JbnB1dC52YWx1ZTtcbiAgICBjb25zdCByZXF1aXJlZCA9IHRydWU7XG4gICAgY29uc3QgbWluTGVuZ3RoID0gMztcbiAgICBjb25zdCBtYXhMZW5ndGggPSAyNTU7XG4gICAgY29uc3Qgc3BlY2lhbENoYXIgPSBmYWxzZTtcbiAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdGVGb3JtKGRlc2NyaXB0aW9uLCByZXF1aXJlZCwgbWluTGVuZ3RoLCBtYXhMZW5ndGgsIHNwZWNpYWxDaGFyKTtcblxuICAgIC8vIENoZWNrIGlmIGZvcm0gaGFzIGVycm9yIG9yIG5vdFxuXG4gICAgaWYgKGlzVmFsaWQuaXNFcnJvciA9PT0gdHJ1ZSAmJiBpc1ZhbGlkLm1zZy5sZW5ndGggPj0gMCkge1xuICAgICAgc2hvd01zZy5jbGFzc0xpc3QuYWRkKCdmb3JtLWVycm9yJyk7XG4gICAgICBzaG93TXNnLnRleHRDb250ZW50ID0gaXNWYWxpZC5tc2c7XG4gICAgICBmb3JtSW5wdXQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBmb3JtIGlzIGVtcHR5IGFkZCBhIG5ldyB0b2RvXG4gICAgICBzaG93TXNnLmNsYXNzTGlzdC5yZW1vdmUoJ2Zvcm0tZXJyb3InKTtcbiAgICAgIHNob3dNc2cudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGZvcm1JbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkJyk7XG4gICAgICBmb3JtSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy50b2Rvcy5sZW5ndGggKyAxIHx8IDE7XG4gICAgICBjb25zdCB0b2RvID0ge1xuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9O1xuICAgICAgdGhpcy50b2RvcyA9IFsuLi50aGlzLnRvZG9zLCB0b2RvXTtcbiAgICAgIC8vIHJlbmRlciB0aGUgbmV3IHRvZG9zIG9uIHRoZSBkb21cbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlID0gKGluZGV4KSA9PiB7XG4gICAgdGhpcy50b2RvcyA9IHRoaXMudG9kb3MuZmlsdGVyKCh0KSA9PiB0LmluZGV4LnRvU3RyaW5nKCkgIT09IGluZGV4KTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLy8gb25DbGlja0RlcyBlbmVudCBtZXRob2RcbiAgb25DbGlja1RvZG9EZXMgPSAoZSkgPT4ge1xuICAgIC8vIHRhcmdldC5vdXRlckhUTUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIGNvbnN0IHBhcmVudCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgcGFyZW50LmlubmVySFRNTCA9ICcnO1xuXG4gICAgLy8gdG9kbyBjaGVja2JveFxuICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgICBjaGVja2JveC5pZCA9ICd0b2RvLWNvbXBsZWF0ZSc7XG5cbiAgICAvLyB0b2RvIGRlc2NyaXB0aW9uXG4gICAgY29uc3QgdG9kb1R4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIHRvZG9UeHRBcmVhLnNldEF0dHJpYnV0ZSgncm93JywgJzEnKTtcbiAgICB0b2RvVHh0QXJlYS5jbGFzc05hbWUgPSAndG9kby10ZXh0YXJlYSc7XG4gICAgdG9kb1R4dEFyZWEuaW5uZXJUZXh0ID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuXG4gICAgLy8gdG9kbyBEZWxldGUgZG90IGJ1dHRvblxuICAgIGNvbnN0IGRlbGV0ZVRvZG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBkZWxldGVUb2RvLmNsYXNzTmFtZSA9ICdidG4tZGVsZXRlJztcbiAgICBkZWxldGVUb2RvLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7ZGVsZXRlSWNvbn1cIiBhbHQ9XCJYXCI+YDtcblxuICAgIC8vIGFkZGluZyBldmVudCBvbiBkZWxldGUgaWNvblxuICAgIGRlbGV0ZVRvZG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5pZDtcbiAgICAgIHRoaXMuZGVsZXRlKGluZGV4KTtcbiAgICB9KTtcblxuICAgIHBhcmVudC5hcHBlbmQoY2hlY2tib3gsIHRvZG9UeHRBcmVhLCBkZWxldGVUb2RvKTtcbiAgfVxufSIsImNvbnN0IHZhbGlkYXRlRm9ybSA9IChcbiAgc3RyLCByZXF1aXJlZCA9IGZhbHNlLCBtaW5MZW5ndGggPSAwLCBtYXhMZW5ndGggPSAwLCBzcGVjaWFsQ2hhciA9IHRydWUsXG4pID0+IHtcbiAgbGV0IGlzRXJyb3IgPSBmYWxzZTtcbiAgbGV0IG1zZyA9ICcnO1xuICBzdHIgPSBzdHIudHJpbSgpO1xuICBjb25zdCBsZW4gPSBzdHIubGVuZ3RoO1xuXG4gIGlmIChyZXF1aXJlZCkge1xuICAgIGlmIChzdHIubGVuZ3RoIDw9IDApIHtcbiAgICAgIGlzRXJyb3IgPSB0cnVlO1xuICAgICAgbXNnID0gJ1RoaXMgZmllbGQgaXMgUmVxdWlyZWQhJztcbiAgICAgIHJldHVybiB7IGlzRXJyb3IsIG1zZyB9O1xuICAgIH1cbiAgfVxuXG4gIGlmIChtaW5MZW5ndGggPiAwKSB7XG4gICAgaWYgKGxlbiA8IG1pbkxlbmd0aCkge1xuICAgICAgaXNFcnJvciA9IHRydWU7XG4gICAgICBtc2cgPSBgVGhlIG1pbiBjaGFyYWN0ZXIgbGVuZ3RoIG9mIHRoaXMgZmllbGQgaXMgJHttaW5MZW5ndGh9YDtcbiAgICAgIHJldHVybiB7IGlzRXJyb3IsIG1zZyB9O1xuICAgIH1cbiAgfVxuXG4gIGlmIChtYXhMZW5ndGggPiAwKSB7XG4gICAgaWYgKGxlbiA+IG1heExlbmd0aCkge1xuICAgICAgaXNFcnJvciA9IHRydWU7XG4gICAgICBtc2cgPSBgVGhlIG1heCBjaGFyYWN0ZXIgbGVuZ3RoIG9mIHRoaXMgZmllbGQgaXMgJHttYXhMZW5ndGh9YDtcbiAgICAgIHJldHVybiB7IGlzRXJyb3IsIG1zZyB9O1xuICAgIH1cbiAgfVxuXG4gIGlmICghc3BlY2lhbENoYXIpIHtcbiAgICBjb25zdCBuZXdTdHIgPSBzdHIucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgICBjb25zdCByZSA9IC9eW0EtWmEtel1bQS1aYS16MC05LV8uXSokLztcbiAgICBpZiAoIXJlLnRlc3QobmV3U3RyKSkge1xuICAgICAgaXNFcnJvciA9IHRydWU7XG4gICAgICBtc2cgPSAnVGhpcyBmaWVsZCBpcyBvbmx5IGFsbG93IEEtejAtOV8uLSBjaGFyYWN0ZXJzIGFuZCBhbHNvIGZpcnN0IGNoYXJhY3RlciBzaG91bGQgYmUgQS16JztcbiAgICAgIHJldHVybiB7IGlzRXJyb3IsIG1zZyB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBpc0Vycm9yLCBtc2cgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlRm9ybTsiLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBUb2RvcyBmcm9tICcuL21vZHVsZXMvdG9kb3MuanMnO1xuaW1wb3J0IHtcbiAgZm9ybUlucHV0LCBidG5TdWJtaXQsIHNob3dNc2csXG59IGZyb20gJy4vbW9kdWxlcy9kb21TZWxlY3Rvci5qcyc7XG5cbi8vIEltcG9ydCBuZWNlc3NhcnkgYXNzZXRzIGZvcm0gc291cmNlXG5pbXBvcnQgZW50ZXJJY29uIGZyb20gJy4vYXNzZXRzL2VudGVyLTI0LnBuZyc7XG5cbi8vIEluaXRpYWxpemUgdGhlIHRvZG9zXG5jb25zdCB0b2RvcyA9IG5ldyBUb2RvcygpO1xuXG4vLyB0b2RvIHN1Ym1pdCBldmVudCB1c2luZyBFbnRlciBidXR0b24uXG5mb3JtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZSkgPT4ge1xuICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdG9kb3Mub25TdWJtaXQoKTtcbiAgfSBlbHNlIHtcbiAgICBzaG93TXNnLmlubmVySFRNTCA9ICcnO1xuICAgIHNob3dNc2cuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS1lcnJvcicpO1xuICAgIGZvcm1JbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkJyk7XG4gIH1cbn0pO1xuXG4vLyB0b2RvIHN1Ym1pdCBldmVudCB1c2luZyBzdWJtaXQgYnV0dG9uXG5idG5TdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIHRvZG9zLm9uU3VibWl0KCk7XG4gIGZvcm1JbnB1dC52YWx1ZSA9ICcnO1xufSk7XG5cbi8vIExvYWQgdGhlIHRvZG8gbGlzdCBvbiB0aGUgZmx5Llxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgdG9kb3MucmVuZGVyKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tc3VibWl0JykuaW5uZXJIVE1MID0gYDxpbWcgc3JjPScke2VudGVySWNvbn0nIGFsdD0nc3VibWl0Jy8+YDtcbn07XG4iXSwibmFtZXMiOlsiZm9ybUlucHV0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNob3dNc2ciLCJxdWVyeVNlbGVjdG9yIiwiYnRuU3VibWl0IiwidG9kb0NvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJUb2RvcyIsInRvZG9BcnIiLCJ0b2RvcyIsInNvcnQiLCJhIiwiYiIsImluZGV4IiwiZm9yRWFjaCIsInRvZG8iLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImlubmVySFRNTCIsInNvcnRBbmRTYXZlIiwibGVuZ3RoIiwidG9kb0l0ZW0iLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJjbGFzc05hbWUiLCJjaGVja2JveCIsInNldEF0dHJpYnV0ZSIsInRvZG9EZXMiLCJpbm5lclRleHQiLCJkZXNjcmlwdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwib25DbGlja1RvZG9EZXMiLCJ0aHJlZURvdEJ1dHRvbiIsInRocmVlRG90SWNvbiIsImFwcGVuZCIsImFwcGVuZENoaWxkIiwidmFsdWUiLCJpc1ZhbGlkIiwic3RyIiwicmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJzcGVjaWFsQ2hhciIsImlzRXJyb3IiLCJtc2ciLCJsZW4iLCJ0cmltIiwibmV3U3RyIiwicmVwbGFjZSIsInRlc3QiLCJ2YWxpZGF0ZUZvcm0iLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImNvbXBsZXRlZCIsInJlbmRlciIsImZpbHRlciIsInQiLCJ0b1N0cmluZyIsInBhcmVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJ0b2RvVHh0QXJlYSIsImRlbGV0ZVRvZG8iLCJkZWxldGVJY29uIiwiZ2V0SXRlbSIsInRoaXMiLCJwYXJzZSIsImtleSIsInByZXZlbnREZWZhdWx0Iiwib25TdWJtaXQiLCJ3aW5kb3ciLCJvbmxvYWQiLCJlbnRlckljb24iXSwic291cmNlUm9vdCI6IiJ9